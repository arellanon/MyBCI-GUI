WindowManager:
    MenuWindow:
    CalibracionWindow:
    MachineLearningWindow:
    RealtimeWindow:
    ConfiguracionCalibracionWindow:
    StartCalibracionWindow:
    ConfiguracionMachineLearningWindow:

<MenuWindow>:
    name: "menu"
    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height
        
        Label:
            text: "MENU"
            font_size: 32
            
        Button:
            text: "Calibracion"
            font_size: 32
            on_release:
                app.root.current = "calibracion"
                root.manager.transition.direction = "left"
                
        Button:
            text: "Machine Learning"
            font_size: 32
            on_release:
                app.root.current = "machine_learning"
                root.manager.transition.direction = "left"
                
        Button:
            text: "Realtime"
            font_size: 32
            on_release:
                app.root.current = "realtime"
                root.manager.transition.direction = "left"


<CalibracionWindow>:
    name: "calibracion"
    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height
        
        Label:
            text: "Calibracion"
            font_size: 32

        Button:
            text: "Configuracion"
            font_size: 32
            on_release:
                app.root.current = "configuracion_calibracion"
                root.manager.transition.direction = "left"
                
        Button:
            text: "Start"
            font_size: 32
            on_release:
                app.root.current = "start_calibracion"
                root.manager.transition.direction = "left"                
            
        Button:
            text: "Volver"
            font_size: 32
            on_release:
                app.root.current = "menu"
                root.manager.transition.direction = "right"

<ConfiguracionCalibracionWindow>:
    name: "configuracion_calibracion"
    orientation: 'vertical'
  
    FloatLayout:
        id: widConfig
        GridLayout:
            cols: 2
            Label:
                text: "time_initial: "
                background_color: (1,1,0,1)
            TextInput:
                id: time_initial
                input_filter: "int"
                multiline: False
            Label:
                text: "time_trial: "
                background_color: (1,1,0,1)
            TextInput:
                id: time_trial
                multiline: False
            Label:
                text: "run_n: "
                background_color: (1,1,0,1)
            TextInput:
                id: run_n
                multiline: False
            Label:
                text: "trial_per_run: "
                background_color: (1,1,0,1)
            TextInput:
                id: trial_per_run
                multiline: False
            Label:
                text: "time_pause: "
                background_color: (1,1,0,1)
            TextInput:
                id: time_pause
                multiline: False                     
            Label:
                text: "path: "
                background_color: (1,1,0,1)
            TextInput:
                id: path
                multiline: False                    
            Button:
                text: "Save"
                font_size: 32
                size: self.size
                pos: self.pos
                on_release: root.save_it(self)
            Button:
                text: "Load"
                font_size: 32
                size: self.size
                pos: self.pos
                on_release: root.load_it(self)                
            Button:
                text: "Volver"
                font_size: 32
                on_release:
                    app.root.current = "calibracion"
                    root.manager.transition.direction = "right"         

                
<StartCalibracionWindow>:
    name: "start_calibracion"             
    orientation: 'vertical'
    FloatLayout:
        id: wid1
        size_hint: 1,.9
        Widget:
            id: bar
            pos_hint: {'x': 0.5, 'y': 0.5}
            size_hint: 0, None
            height: 150     
            animated_color: (1, 0, 0)
            canvas:
                Color:
                    rgb: self.animated_color
                Rectangle:
                    size: self.size
                    pos: self.pos
    BoxLayout:
        size_hint: 1,.1
        Button:
            text: "Start"
            font_size: 32
            size: self.size
            pos: self.pos
            on_release: root.animate_it(self)
        Button:
            text: "Volver"
            font_size: 32
            on_release:
                app.root.current = "calibracion"
                root.manager.transition.direction = "right"
                
<MachineLearningWindow>:
    name: "machine_learning"
    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height
        Label:
            text: "Machine Learning"
            font_size: 32
        Button:
            text: "Configuracion"
            font_size: 32
            on_release:
                app.root.current = "configuracion_ml"
                root.manager.transition.direction = "left"
        Button:
            text: "Start"
            font_size: 32
            on_release: root.start_train(self)
            
        Button:
            text: "Volver"
            font_size: 32
            on_release:
                app.root.current = "menu"
                root.manager.transition.direction = "right"
                
<ConfiguracionMachineLearningWindow>:
    name: "configuracion_ml"
    FloatLayout:
        id: wtrain_ml
        GridLayout:
            cols: 2
            Label:
                text: "tmin: "
                background_color: (1,1,0,1)
            TextInput:
                id: tmin
                input_filter: "float"
                multiline: False
            Label:
                text: "tmax: "
                background_color: (1,1,0,1)
            TextInput:
                id: tmax
                input_filter: "float"
                multiline: False
            Label:
                text: "path: "
                background_color: (1,1,0,1)
            TextInput:
                id: path
                multiline: False                    
            Button:
                text: "Save"
                font_size: 32
                size: self.size
                pos: self.pos
                on_release: root.save_it(self)
            Button:
                text: "Load"
                font_size: 32
                size: self.size
                pos: self.pos
                on_release: root.load_it(self)
            Button:
                text: "Volver"
                font_size: 32
                on_release:
                    app.root.current = "machine_learning"
                    root.manager.transition.direction = "right"         

<RealtimeWindow>:
    name: "realtime"
    
    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height
        
        Label:
            text: "Realtime"
            font_size: 32
            
        Button:
            text: "Volver"
            font_size: 32
            on_release:
                app.root.current = "menu"
                root.manager.transition.direction = "right"